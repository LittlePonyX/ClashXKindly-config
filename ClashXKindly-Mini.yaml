# --------------------------------ClashX Kindly Config Mini-----------------------------------------------
# @GitHub https://github.com/LittlePonyX/ClashXKindly-config
# @Version 1.0.1
# --------------------------------ClashX Kindly Config Mini-----------------------------------------------
mixed-port: 7890
mode: rule
external-controller: 127.0.0.1:9090
secret: "ytYJ42g92tjU@!%z"

pvd-info: &pvd-info
  type: http
  interval: 259200 # 3å¤©
  health-check:
    enable: true
    url: http://www.gstatic.com/generate_204
    interval: 600

# clash é“¾æ¥æ— é¡»è½¬æ¢ å¯è‡ªå»ºæˆ–é€‰æ‹©å…¶ä»–è®¢é˜…è½¬æ¢å·¥å…· æ¨èé€‰æ‹©è¾“å‡ºä¸º NodeList å¤„ç†èŠ‚ç‚¹è¿‡æ»¤
proxy-providers:
  Subscribe:
    <<: *pvd-info
    # æ’é™¤å…³é”®å­—ä½¿ç”¨excludeå‚æ•°(UrlCodeç¼–ç )ä¾‹å¦‚è¦æ’é™¤"æµ·å¤–|åˆ°æœŸ"åœ¨é“¾æ¥åè¿½åŠ  &exclude=%E6%B5%B7%E5%A4%96%7C%E5%88%B0%E6%9C%9F
    url: https://sub.xeton.dev/sub?target=clash&url=è®¢é˜…é“¾æ¥å¤šä¸ªç”¨|åˆ†å‰²&list=true&udp=false&exclude=%E6%B5%B7%E5%A4%96%7C%E5%88%B0%E6%9C%9F
    path: ./Providers/Proxies/Subscribe.yaml
    # filter: 'a|b' # è¿‡æ»¤èŠ‚ç‚¹ Golang regex ä¸æ”¯æŒå¤æ‚è¡¨è¾¾å¼å»ºè®®ç”¨è®¢é˜…è½¬æ¢å·¥å…·è¿‡æ»¤
all-proxy: &all-proxy
  type: select
  use:
    - Subscribe

# å…¶ä»–ä»£ç†ç¤ºä¾‹ è‡ªå»ºç­‰å†™åœ¨è¿™é‡Œ
proxies:
  - { name: "ss1", type: ss, server: server, port: 443, cipher: chacha20-ietf-poly1305, password: "password", udp: true }
  # - { name: "ss2", type: ss, server: server, port: 443, cipher: chacha20-ietf-poly1305, password: "password", udp: true }

# è‡ªå»ºæ•°é‡å¤šå¯ä»¥å®šä¹‰é”šç‚¹åè¿›è¡Œåˆå¹¶
# local-proxy: &local-proxy
  - ss1
  # - ss2

proxy-groups:
  - name: ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
    <<: *all-proxy
    proxies: [â™»ï¸ è‡ªåŠ¨é€‰æ‹©]
    # proxies: [â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ss1, ss2] # å¤šä¸ªèŠ‚ç‚¹
  - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    lazy: true
    url: http://www.gstatic.com/generate_204
    interval: 600
    use:
      - Subscribe
    proxies:
      # - ss1 # æŠŠè‡ªå®šä¹‰èŠ‚ç‚¹æ·»åŠ è¿›è‡ªåŠ¨é€‰æ‹©
      # *local-proxy # è‡ªå»ºå¼•ç”¨é”šç‚¹è¿›è¡Œåˆå¹¶(ä¸å¯å’Œæ‰‹åŠ¨æ·»åŠ æ··ç”¨)
  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    <<: *all-proxy
    proxies: [ğŸš€ æ‰‹åŠ¨åˆ‡æ¢, DIRECT]

rules:
  - GEOIP,CN,DIRECT
  - GEOIP,LAN,DIRECT
  - DOMAIN,google.com,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - DOMAIN-SUFFIX,t.me,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - DOMAIN-SUFFIX,telegra.ph,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - DOMAIN-SUFFIX,telegram.me,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - DOMAIN-SUFFIX,telegram.org,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - IP-CIDR,162.159.193.0/24,DIRECT
  - IP-CIDR,91.108.0.0/16,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢,no-resolve
  - IP-CIDR,109.239.140.0/24,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢,no-resolve
  - IP-CIDR,149.154.160.0/20,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢,no-resolve
  - DOMAIN-KEYWORD,-cn,DIRECT
  - DOMAIN-SUFFIX,local,DIRECT
  - DOMAIN-SUFFIX,cn,DIRECT
  - DOMAIN-SUFFIX,umeng.com,REJECT
  - DOMAIN-SUFFIX,umtrack.com,REJECT
  - DOMAIN-SUFFIX,ad.xiaomi.com,REJECT
  - DOMAIN-SUFFIX,ad1.xiaomi.com,REJECT
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼ # æœªåŒ¹é…åˆ°ä½¿ç”¨æ¼ç½‘ä¹‹é±¼ å¯ä»¥ç†è§£ä¸ºé»‘åå•æ¨¡å¼
  # - MATCH, DIRECT # æœªåŒ¹é…åˆ°ä½¿ç”¨ç›´è¿ å³ç™½åå•æ¨¡å¼
